<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StudyFlow - –¶–µ–ª–∏</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/ru.js"></script>
    <style>
        :root {
            --bg-light: #f3f4f8;
            --sidebar-bg: #7484d2;
            --card-bg: #a9baf0;
            --nav-item-bg: #8c9be4;
            --nav-item-active-bg: #4f5b93;
            --progress-bar-bg: #e0e0e0;
            --progress-bar-fill: #34d399;
            --text-light: #ffffff;
            --text-dark: #333333;
            --font-family: 'Nunito', sans-serif;
        }

        body {
            margin: 0;
            font-family: var(--font-family);
            background-color: var(--bg-light);
            color: var(--text-dark);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        body[data-theme="blue"] {
            --sidebar-bg: #4169E1; 
            --card-bg: #4169E1; 
            --nav-item-bg: #4682B4;
            --nav-item-active-bg: #3b5974;
            --progress-bar-fill: #228B22; 
        }

        .dashboard-container { display: flex; min-height: 100vh; }
        .sidebar { background-color: var(--sidebar-bg); padding: 2rem 1.5rem; width: 250px; flex-shrink: 0; color: var(--text-light); box-sizing: border-box; display: flex; flex-direction: column; }
        .logo { font-size: 2rem; font-weight: 800; text-align: center; margin-bottom: 3rem; }
        .sidebar ul { list-style: none; padding: 0; margin: 0; }
        .sidebar ul li a { display: block; padding: 1rem 1.5rem; margin-bottom: 1rem; border-radius: 12px; text-decoration: none; color: var(--text-light); background-color: var(--nav-item-bg); font-weight: 700; transition: background-color 0.3s ease; }
        .sidebar ul li a.active { background-color: var(--nav-item-active-bg); }
        .sidebar ul li a:hover { background-color: #6a7ac5; }
        
        .main-content { flex-grow: 1; padding: 2rem; display: flex; flex-direction: column; gap: 2rem; }
        .top-section { 
            display: grid; 
            grid-template-columns: 2fr 1fr; 
            gap: 2rem; 
        }
        
        .card { border-radius: 20px; padding: 1.5rem; box-sizing: border-box; }
        .card h2 { margin-top: 0; margin-bottom: 1.5rem; font-size: 1.5rem; font-weight: 800; }
        
        /* –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Ü–µ–ª–∏ —Å–ª–µ–≤–∞ */
        .new-goal-form { 
            background-color: #ffffff; 
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }
        
        .form-group { margin-bottom: 1.5rem; }
        .form-group label { display: block; margin-bottom: 0.5rem; font-weight: 700; color: #444; }
        .form-group input, .form-group textarea { 
            width: 100%; 
            padding: 0.8rem 1rem; 
            border: 1px solid #e0e0e0; 
            background-color: var(--bg-light); 
            box-sizing: border-box; 
            font-family: var(--font-family); 
            font-size: 1rem; 
            border-radius: 12px; 
        }
        .form-group textarea { min-height: 100px; resize: vertical; }
        
        /* –ö–Ω–æ–ø–∫–∞ –ø–æ–º–æ—â–∏ –ò–ò –≤ —Ñ–æ—Ä–º–µ —Å–æ–∑–¥–∞–Ω–∏—è —Ü–µ–ª–∏ */
        .ai-help-in-form {
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px dashed rgba(0,0,0,0.1);
        }
        
        .ai-help-btn {
            background: none;
            border: none;
            color: #666;
            font-size: 0.9rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            margin: 0 auto;
            padding: 0.5rem;
            width: 100%;
        }
        
        .ai-help-btn:hover {
            color: #333;
            background-color: #f5f5f5;
            border-radius: 8px;
        }
        
        /* –°–ª–∞–π–¥–µ—Ä –≤–∞–∂–Ω–æ—Å—Ç–∏ */
        .stepped-slider {
            width: 100%;
            margin: 15px 0;
        }
        
        .slider-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 5px;
            font-size: 12px;
            color: #666;
        }
        
        .slider-labels span {
            text-align: center;
            width: 40px;
        }
        
        .slider-with-steps {
            width: 100%;
            height: 6px;
            background: #e0e0e0;
            border-radius: 3px;
            outline: none;
            margin: 5px 0;
            -webkit-appearance: none;
        }
        
        .slider-with-steps::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #667eea;
            cursor: pointer;
        }
        
        .current-value {
            text-align: center;
            font-size: 15px;
            font-weight: bold;
            color: #667eea;
            margin: 2px 0;
        }
        
        /* –ö–Ω–æ–ø–∫–∏ */
        .form-buttons { 
            display: flex; 
            gap: 1rem; 
            margin-top: 1.5rem; 
        }
        
        .form-buttons button { 
            flex: 1; 
            padding: 0.8rem; 
            border: none; 
            font-size: 1rem; 
            font-weight: 700; 
            color: var(--text-light); 
            border-radius: 12px; 
            cursor: pointer; 
            transition: background-color 0.3s ease; 
        }
        
        .btn-secondary { background-color: var(--nav-item-bg); }
        .btn-secondary:hover { background-color: #6a7ac5; }
        .btn-primary { background-color: var(--progress-bar-fill); }
        .btn-primary:hover { background-color: #2cb88a; }
        
        /* –ö–∞–ª–µ–Ω–¥–∞—Ä—å */
        .picker-group {
            margin: 20px 0;
            padding: 20px;
            border: 1px solid #e0e0e0;
            border-radius: 10px;
            background: white;
        }
        
        .flatpickr-input {
            padding: 12px;
            margin: 10px 0;
            border: 2px solid #667eea;
            border-radius: 6px;
            width: 250px;
            font-size: 16px;
        }
        
        /* –°–æ–≤–µ—Ç—ã —Å–ø—Ä–∞–≤–∞ */
        .tips-card { 
            background-color: var(--card-bg); 
            display: flex; 
            flex-direction: column;
            height: fit-content;
        }
        
        .tip-content { 
            flex-grow: 1; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            background-color: rgba(255, 255, 255, 0.5); 
            margin-bottom: 1rem; 
            border-radius: 12px; 
            font-weight: 700; 
            padding: 1rem; 
            min-height: 150px;
        }
        
        .tip-content span { 
            white-space: pre-wrap; 
            line-height: 1.6; 
            text-align: center; 
        }
        
        .pagination { 
            display: flex; 
            justify-content: space-between; 
            gap: 0.5rem; 
        }
        
        .pagination span { 
            flex: 1; 
            text-align: center; 
            padding: 0.5rem; 
            background-color: rgba(255, 255, 255, 0.5); 
            border-radius: 8px; 
            font-weight: 700; 
            cursor: pointer;
        }
        
        .pagination span:hover {
            background-color: rgba(255, 255, 255, 0.7);
        }
        
        /* –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ */
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
            gap: 1rem;
        }
        
        .section-title {
            font-size: 1.5rem; 
            font-weight: 800; 
            margin: 0;
        }
        
        /* –ö–Ω–æ–ø–∫–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Å–ª–µ–≤–∞ */
        .categories-left {
            display: flex;
            gap: 1rem;
            align-items: center;
        }
        
        .category-btn {
            background: none;
            border: none;
            color: #666;
            font-size: 0.9rem;
            cursor: pointer;
            padding: 0.5rem 0.8rem;
            border-radius: 6px;
            transition: all 0.3s ease;
        }
        
        .category-btn:hover {
            background-color: #f0f0f0;
            color: #333;
        }
        
        .category-btn.active {
            background-color: var(--nav-item-bg);
            color: white;
        }
        
        .category-btn i {
            margin-right: 0.3rem;
        }
        
        /* –í—ã–ø–∞–¥–∞—é—â–µ–µ –º–µ–Ω—é –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ */
        .create-category-dropdown {
            position: relative;
            display: inline-block;
        }
        
        .dropdown-content {
            display: none;
            position: absolute;
            left: 0;
            top: 100%;
            background-color: white;
            min-width: 350px;
            max-width: 500px;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 8px 16px rgba(0,0,0,0.1);
            border-radius: 10px;
            z-index: 100;
            padding: 1.5rem;
            margin-top: 0.5rem;
        }
        
        .dropdown-content.show {
            display: block;
        }
        
        .dropdown-header {
            font-weight: 700;
            margin-bottom: 1.5rem;
            color: #333;
            font-size: 1.1rem;
        }
        
        .category-input-group {
            margin-bottom: 1.5rem;
        }
        
        .category-input {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 0.9rem;
            box-sizing: border-box;
        }
        
        /* –°–µ–∫—Ü–∏—è –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Ü–µ–ª—è–º */
        .assign-goals-section {
            margin: 1.5rem 0;
            padding: 1.5rem;
            background-color: #f8f9fa;
            border-radius: 10px;
            border-left: 4px solid #667eea;
        }
        
        .assign-goals-title {
            font-weight: 700;
            margin-bottom: 1rem;
            color: #333;
        }
        
        .goals-to-assign {
            max-height: 200px;
            overflow-y: auto;
            margin-bottom: 1rem;
        }
        
        .goal-to-assign {
            display: flex;
            align-items: center;
            padding: 0.8rem;
            margin-bottom: 0.5rem;
            background-color: white;
            border-radius: 8px;
            border: 1px solid #e0e0e0;
            transition: background-color 0.2s;
        }
        
        .goal-to-assign:hover {
            background-color: #f0f0f0;
        }
        
        .goal-to-assign input[type="checkbox"] {
            margin-right: 0.8rem;
            width: 18px;
            height: 18px;
        }
        
        .goal-to-assign label {
            cursor: pointer;
            flex-grow: 1;
            font-size: 0.9rem;
        }
        
        .no-goals-message {
            text-align: center;
            color: #666;
            font-style: italic;
            padding: 1rem;
            background-color: white;
            border-radius: 8px;
            border: 1px dashed #ddd;
        }
        
        .dropdown-actions {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
        }
        
        .dropdown-action-btn {
            flex: 1;
            padding: 0.8rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: background-color 0.3s;
        }
        
        .create-btn {
            background-color: #e7f4e4;
            color: #2d8c2d;
        }
        
        .create-btn:hover {
            background-color: #d4edda;
        }
        
        .cancel-btn {
            background-color: #f0f0f0;
            color: #666;
        }
        
        .cancel-btn:hover {
            background-color: #e0e0e0;
        }
        
        /* –í—ã–ø–∞–¥–∞—é—â–µ–µ –º–µ–Ω—é –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π */
        .assign-category-dropdown {
            position: relative;
            display: inline-block;
        }
        
        .assign-category-content {
            display: none;
            position: absolute;
            left: 0;
            top: 100%;
            background-color: white;
            min-width: 280px;
            max-width: 400px;
            max-height: 70vh;
            overflow-y: auto;
            box-shadow: 0 8px 16px rgba(0,0,0,0.1);
            border-radius: 10px;
            z-index: 100;
            padding: 1.5rem;
            margin-top: 0.5rem;
        }
        
        .assign-category-content.show {
            display: block;
        }
        
        .category-select-section {
            margin-bottom: 1.5rem;
        }
        
        .category-select {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 0.9rem;
            background-color: white;
            margin-bottom: 1.5rem;
        }
        
        /* –í—ã–ø–∞–¥–∞—é—â–µ–µ –º–µ–Ω—é –∫–∞—Ç–µ–≥–æ—Ä–∏–π */
        .categories-dropdown {
            position: relative;
            display: inline-block;
        }
        
        .categories-dropdown-content {
            display: none;
            position: absolute;
            left: 0;
            top: 100%;
            background-color: white;
            min-width: 200px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.1);
            border-radius: 10px;
            z-index: 100;
            padding: 1rem;
            margin-top: 0.5rem;
        }
        
        .categories-dropdown-content.show {
            display: block;
        }
        
        .categories-list {
            max-height: 200px;
            overflow-y: auto;
            margin-bottom: 1rem;
        }
        
        .dropdown-item {
            display: flex;
            align-items: center;
            padding: 0.7rem 0.5rem;
            cursor: pointer;
            border-radius: 6px;
            transition: background-color 0.2s;
        }
        
        .dropdown-item:hover {
            background-color: #f5f5f5;
        }
        
        .dropdown-item input[type="checkbox"] {
            margin-right: 0.8rem;
            width: 18px;
            height: 18px;
        }
        
        .dropdown-item label {
            cursor: pointer;
            flex-grow: 1;
        }
        
        /* –í—ã–ø–∞–¥–∞—é—â–µ–µ –º–µ–Ω—é —É–¥–∞–ª–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π */
        .delete-category-dropdown {
            position: relative;
            display: inline-block;
        }
        
        .delete-dropdown-content {
            display: none;
            position: absolute;
            left: 0;
            top: 100%;
            background-color: white;
            min-width: 220px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.1);
            border-radius: 10px;
            z-index: 100;
            padding: 1rem;
            margin-top: 0.5rem;
        }
        
        .delete-dropdown-content.show {
            display: block;
        }
        
        .delete-list {
            max-height: 200px;
            overflow-y: auto;
            margin-bottom: 1rem;
        }
        
        .delete-btn {
            width: 100%;
            padding: 0.7rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.85rem;
            background-color: #fdeaea;
            color: #dc3545;
            transition: background-color 0.3s;
        }
        
        .delete-btn:hover {
            background-color: #f8d7da;
        }
        
        .no-categories {
            text-align: center;
            color: #666;
            font-style: italic;
            padding: 1rem 0;
        }
        
        /* –ö–Ω–æ–ø–∫–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ */
        .apply-category-btn {
            width: 100%;
            padding: 0.8rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            background-color: #e3f2fd;
            color: #1976d2;
            transition: background-color 0.3s;
            margin-top: 1rem;
        }
        
        .apply-category-btn:hover {
            background-color: #bbdefb;
        }
        
        /* –í—Å–µ —Ü–µ–ª–∏ */
        .goals-list { 
            display: flex; 
            flex-direction: column; 
            gap: 1rem; 
        }
        
        .goal-item { 
            background-color: #ffffff; 
            box-shadow: 0 4px 10px rgba(0,0,0,0.05); 
            padding: 1rem 1.5rem; 
            border-radius: 15px; 
            position: relative;
        }
        
        .goal-header { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            margin-bottom: 0.5rem; 
            flex-wrap: wrap; 
            gap: 0.5rem;
        }
        
        .goal-header h3 { 
            margin: 0; 
            font-size: 1.2rem; 
            font-weight: 700; 
        }
        
        .goal-category {
            display: inline-block;
            padding: 0.2rem 0.6rem;
            background-color: #e3f2fd;
            color: #1976d2;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-left: 0.5rem;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .goal-category:hover {
            transform: scale(1.05);
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .goal-actions {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .assign-category-icon {
            background: none;
            border: none;
            color: #666;
            cursor: pointer;
            padding: 0.3rem;
            border-radius: 4px;
            transition: all 0.2s;
        }
        
        .assign-category-icon:hover {
            background-color: #f0f0f0;
            color: #333;
        }
        
        .goal-deadline { 
            display: flex; 
            align-items: center; 
            gap: 0.5rem; 
            font-weight: 700; 
            font-size: 0.9rem; 
        }
        
        .goal-deadline input[type="checkbox"] { 
            width: 18px; 
            height: 18px; 
        }
        
        .goal-item p { 
            margin: 0 0 1rem 0; 
            color: #555; 
        }
        
        .progress-bar-container { 
            background-color: #f3f4f8; 
            border-radius: 999px; 
            height: 10px; 
            width: 100%; 
            overflow: hidden; 
            border: 1px solid #e0e0e0; 
        }
        
        .progress-bar { 
            background-color: var(--progress-bar-fill); 
            height: 100%; 
            border-radius: 999px; 
        }
        
        /* –°–º–µ–Ω–∞ —Ç–µ–º—ã */
        .theme-switcher { 
            margin-top: auto; 
            padding-top: 2rem; 
        }
        
        .theme-switcher h4 { 
            text-align: center; 
            margin-bottom: 0.5rem; 
        }
        
        .theme-buttons { 
            display: flex; 
            justify-content: center; 
            gap: 1rem; 
        }
        
        .theme-btn { 
            width: 30px; 
            height: 30px; 
            border-radius: 50%; 
            border: 2px solid white; 
            cursor: pointer; 
        }
        
        .theme-btn.purple { background-color: #7484d2; }
        .theme-btn.blue { background-color: #4169E1; }
        
        /* –ú–æ–±–∏–ª—å–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ */
        .mobile-header { 
            display: none; 
            background-color: var(--sidebar-bg); 
            padding: 1rem; 
            color: var(--text-light); 
            justify-content: space-between; 
            align-items: center; 
        }
        
        .mobile-menu-btn { 
            background: none; 
            border: none; 
            color: var(--text-light); 
            font-size: 1.5rem; 
            cursor: pointer; 
        }
        
        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 992px) {
            .top-section {
                grid-template-columns: 1fr;
            }
            
            .section-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .categories-left {
                width: 100%;
                justify-content: space-between;
            }
            
            .dropdown-content,
            .assign-category-content {
                min-width: 300px;
                max-width: 90vw;
            }
        }

        @media (max-width: 768px) {
            .dashboard-container { flex-direction: column; }
            .mobile-header { display: flex; }
            .sidebar { position: fixed; top: 0; left: -100%; height: 100vh; z-index: 1000; width: 280px; transition: left 0.3s ease; }
            .sidebar.active { left: 0; }
            .main-content { padding: 1rem; gap: 1rem; }
            .card { padding: 1rem; }
            .form-buttons { flex-direction: column; }
            .flatpickr-input { width: 100%; }
            .dropdown-content,
            .assign-category-content {
                position: fixed;
                left: 50%;
                top: 50%;
                transform: translate(-50%, -50%);
                width: 90%;
                max-width: 400px;
                max-height: 80vh;
            }
            
            .goal-actions {
                flex-direction: column;
                align-items: flex-end;
            }
        }
    </style>
</head>
<body>
    <div class="dashboard-container">
        <header class="mobile-header">
            <button class="mobile-menu-btn">‚ò∞</button>
            <h1 class="logo" style="margin: 0; font-size: 1.5rem;">StudyFlow</h1>
            <div style="width: 40px;"></div>
        </header>

        <nav class="sidebar">
            <h1 class="logo">StudyFlow</h1>
            <ul>
                <li><a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a></li>
                <li><a href="#" class="active">–¶–µ–ª–∏</a></li>
                <li><a href="Analitics.html">–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</a></li>
                <li><a href="Calendar.html">–ö–∞–ª–µ–Ω–¥–∞—Ä—å</a></li>
                <li><a href="Achievments.html">–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</a></li>
                <li><a href="Profile.html">–ü—Ä–æ—Ñ–∏–ª—å</a></li>
            </ul>
            <div class="theme-switcher">
                <h4>–°–º–µ–Ω–∏—Ç—å —Ç–µ–º—É</h4>
                <div class="theme-buttons">
                    <button data-set-theme="default" class="theme-btn purple"></button>
                    <button data-set-theme="blue" class="theme-btn blue"></button>
                </div>
            </div>
        </nav>

        <main class="main-content">
            <div class="top-section">
                <!-- –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Ü–µ–ª–∏ -->
                <div class="card new-goal-form">
                    <h2>üéØ –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Ü–µ–ª—å</h2>
                    
                    <div class="form-group">
                        <label for="goalTitle">–ù–∞–∑–≤–∞–Ω–∏–µ —Ü–µ–ª–∏</label>
                        <input type="text" id="goalTitle" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –í—ã—É—á–∏—Ç—å –∞–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫">
                    </div>
                    
                    <div class="form-group">
                        <label for="goalDescription">–û–ø–∏—Å–∞–Ω–∏–µ —Ü–µ–ª–∏</label>
                        <textarea id="goalDescription" placeholder="–û–ø–∏—à–∏—Ç–µ —Å–≤–æ—é —Ü–µ–ª—å –ø–æ–¥—Ä–æ–±–Ω–µ–µ..."></textarea>
                    </div>
                    
                    <h3>‚ö†Ô∏è –í–∞–∂–Ω–æ—Å—Ç—å —Ü–µ–ª–∏</h3>
                    <div class="stepped-slider">
                        <input type="range" id="importanceSlider" class="slider-with-steps" min="0" max="10" value="5" step="1">
                        <div class="slider-labels">
                            <span>–ù–∏–∑–∫–∞—è</span>
                            <span>–°—Ä–µ–¥–Ω—è—è</span>
                            <span>–í—ã—Å–æ–∫–∞—è</span>
                        </div>
                        <div class="current-value" id="importanceValue">5</div>
                    </div>
                    
                    <div class="picker-group">
                        <h3>üìÖ –î–µ–¥–ª–∞–π–Ω</h3>
                        <input type="datetime-local" id="goalDeadline" class="flatpickr-input" placeholder="–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É –∏ –≤—Ä–µ–º—è">
                    </div>
                    
                    <div class="form-buttons">
                        <button type="button" class="btn-secondary" onclick="clearForm()">–û—á–∏—Å—Ç–∏—Ç—å</button>
                        <button type="button" class="btn-primary" onclick="saveGoal()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ü–µ–ª—å</button>
                    </div>
                    
                    <!-- –ö–Ω–æ–ø–∫–∞ –ø–æ–º–æ—â–∏ –ò–ò –≤ —Ñ–æ—Ä–º–µ —Å–æ–∑–¥–∞–Ω–∏—è —Ü–µ–ª–∏ -->
                    <div class="ai-help-in-form">
                        <button class="ai-help-btn" onclick="showAIHelp()">
                            <i class="fas fa-robot"></i> –ü–æ–º–æ—â—å –ò–ò –≤ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ü–µ–ª–∏
                        </button>
                    </div>
                </div>
                
                <!-- –ü–ª–∞—à–∫–∞ —Å —Å–æ–≤–µ—Ç–∞–º–∏  -->
                <div class="card tips-card">
                    <h2>–°–æ–≤–µ—Ç—ã</h2>
                    <div class="tip-content">
                        <span id="currentTip">–†–∞–∑–±–∏–≤–∞–π—Ç–µ –±–æ–ª—å—à–∏–µ —Ü–µ–ª–∏ –Ω–∞ –º–∞–ª–µ–Ω—å–∫–∏–µ –ø–æ–¥–∑–∞–¥–∞—á–∏. –¢–∞–∫ –±—É–¥–µ—Ç –ø—Ä–æ—â–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –∏ –Ω–µ —Ç–µ—Ä—è—Ç—å –º–æ—Ç–∏–≤–∞—Ü–∏—é!</span>
                    </div>
                    <div class="pagination">
                        <span onclick="prevTip()">&larr;</span>
                        <span id="tipCounter">1/6</span>
                        <span onclick="nextTip()">&rarr;</span>
                    </div>
                </div>
            </div>
            
            <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ -->
            <div class="section-header">
                <div class="categories-left">
                    <button class="category-btn active" id="allGoalsBtn">
                        <i class="fas fa-list"></i> –í—Å–µ —Ü–µ–ª–∏
                    </button>
                    
                    <!-- –ö–Ω–æ–ø–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ -->
                    <div class="create-category-dropdown">
                        <button class="category-btn" onclick="toggleCreateCategoryDropdown()">
                            <i class="fas fa-plus"></i> –°–æ–∑–¥–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é
                        </button>
                        <div class="dropdown-content" id="createCategoryDropdown">
                            <div class="dropdown-header">–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é</div>
                            <div class="category-input-group">
                                <input type="text" class="category-input" id="newCategoryName" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏">
                            </div>
                            
                            <!-- –°–µ–∫—Ü–∏—è –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ü–µ–ª—è–º -->
                            <div class="assign-goals-section" id="assignGoalsSection">
                                <div class="assign-goals-title">–ù–∞–∑–Ω–∞—á–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é —Ü–µ–ª—è–º:</div>
                                <div class="goals-to-assign" id="goalsToAssignList">
                                    <!-- –°–ø–∏—Å–æ–∫ —Ü–µ–ª–µ–π –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –∑–¥–µ—Å—å -->
                                </div>
                            </div>
                            
                            <div class="dropdown-actions">
                                <button class="dropdown-action-btn cancel-btn" onclick="closeCreateCategoryDropdown()">
                                    –û—Ç–º–µ–Ω–∞
                                </button>
                                <button class="dropdown-action-btn create-btn" onclick="addNewCategory()">
                                    –°–æ–∑–¥–∞—Ç—å
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- –ö–Ω–æ–ø–∫–∞ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π -->
                    <div class="assign-category-dropdown">
                        <button class="category-btn" onclick="toggleAssignCategoryDropdown()">
                            <i class="fas fa-tags"></i> –ù–∞–∑–Ω–∞—á–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é
                        </button>
                        <div class="assign-category-content" id="assignCategoryDropdown">
                            <div class="dropdown-header">–ù–∞–∑–Ω–∞—á–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é —Ü–µ–ª—è–º</div>
                            
                            <div class="category-select-section">
                                <label for="categorySelect">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é:</label>
                                <select class="category-select" id="categorySelect">
                                    <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –∑–¥–µ—Å—å -->
                                </select>
                            </div>
                            
                            <div class="assign-goals-section">
                                <div class="assign-goals-title">–í—ã–±–µ—Ä–∏—Ç–µ —Ü–µ–ª–∏:</div>
                                <div class="goals-to-assign" id="assignCategoryGoalsList">
                                    <!-- –°–ø–∏—Å–æ–∫ —Ü–µ–ª–µ–π –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –∑–¥–µ—Å—å -->
                                </div>
                            </div>
                            
                            <button class="apply-category-btn" onclick="assignCategoryToGoals()">
                                <i class="fas fa-check"></i> –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é
                            </button>
                        </div>
                    </div>
                    
                    <!-- –ö–Ω–æ–ø–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π -->
                    <div class="categories-dropdown">
                        <button class="category-btn" onclick="toggleCategoriesDropdown()">
                            <i class="fas fa-folder"></i> –ö–∞—Ç–µ–≥–æ—Ä–∏–∏
                        </button>
                        <div class="categories-dropdown-content" id="categoriesDropdown">
                            <div class="dropdown-header">–í—ã–±–æ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–π</div>
                            <div class="categories-list" id="categoriesList">
                                <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è —Å—é–¥–∞ -->
                            </div>
                        </div>
                    </div>
                    
                    <!-- –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π -->
                    <div class="delete-category-dropdown">
                        <button class="category-btn" onclick="toggleDeleteCategoryDropdown()">
                            <i class="fas fa-trash"></i> –£–¥–∞–ª–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é
                        </button>
                        <div class="delete-dropdown-content" id="deleteCategoryDropdown">
                            <div class="dropdown-header">–£–¥–∞–ª–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</div>
                            <div class="delete-list" id="deleteCategoriesList">
                                <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è —Å—é–¥–∞ -->
                            </div>
                            <button class="delete-btn" onclick="deleteSelectedCategories()">
                                <i class="fas fa-trash-alt"></i> –£–¥–∞–ª–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ
                            </button>
                        </div>
                    </div>
                </div>
                
                <h2 class="section-title">–í—Å–µ —Ü–µ–ª–∏</h2>
            </div>
            
            <div class="goals-list" id="goalsListContainer">
                <!-- –¶–µ–ª–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –∑–¥–µ—Å—å -->
            </div>
        </main>
    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Flatpickr –¥–ª—è –¥–µ–¥–ª–∞–π–Ω–∞
        flatpickr("#goalDeadline", {
            enableTime: true,
            dateFormat: "d.m.Y H:i",
            time_24hr: true,
            locale: "ru"
        });
        
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ª–∞–π–¥–µ—Ä–∞ –≤–∞–∂–Ω–æ—Å—Ç–∏
        const importanceSlider = document.getElementById('importanceSlider');
        const importanceValue = document.getElementById('importanceValue');
        
        importanceSlider.addEventListener('input', function() {
            importanceValue.textContent = this.value;
        });
        
        // –°–∏—Å—Ç–µ–º–∞ —Å–æ–≤–µ—Ç–æ–≤
        const tips = [
            "–†–∞–∑–±–∏–≤–∞–π—Ç–µ –±–æ–ª—å—à–∏–µ —Ü–µ–ª–∏ –Ω–∞ –º–∞–ª–µ–Ω—å–∫–∏–µ –ø–æ–¥–∑–∞–¥–∞—á–∏. –¢–∞–∫ –±—É–¥–µ—Ç –ø—Ä–æ—â–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å!",
            "–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ —Å—Ä–æ–∫–∏. –ù–µ –ø—ã—Ç–∞–π—Ç–µ—Å—å —Å–¥–µ–ª–∞—Ç—å –≤—Å–µ –∑–∞ –æ–¥–∏–Ω –¥–µ–Ω—å.",

        ];
        
        let currentTipIndex = 0;
        const tipElement = document.getElementById('currentTip');
        const tipCounter = document.getElementById('tipCounter');
        
        function updateTip() {
            tipElement.textContent = tips[currentTipIndex];
            tipCounter.textContent = `${currentTipIndex + 1}/${tips.length}`;
        }
        
        function nextTip() {
            currentTipIndex = (currentTipIndex + 1) % tips.length;
            updateTip();
        }
        
        function prevTip() {
            currentTipIndex = (currentTipIndex - 1 + tips.length) % tips.length;
            updateTip();
        }
        
        // –ü–æ–º–æ—â—å –ò–ò –≤ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ü–µ–ª–∏
        function showAIHelp() {
            const goalTitle = document.getElementById('goalTitle').value;
            const goalDescription = document.getElementById('goalDescription').value;
            
            let message = "ü§ñ –ü–æ–º–æ—â—å –ò–ò –≤ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ü–µ–ª–∏\n\n";
            
            if (!goalTitle && !goalDescription) {
                message += "–Ø –º–æ–≥—É –ø–æ–º–æ—á—å –≤–∞–º:\n1. –°—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ç–∫—É—é —Ü–µ–ª—å\n2. –†–∞–∑–±–∏—Ç—å —Ü–µ–ª—å –Ω–∞ —ç—Ç–∞–ø—ã\n3. –ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ —Å—Ä–æ–∫–∏\n4. –î–∞—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—é —Ü–µ–ª–∏\n\n–û–ø–∏—à–∏—Ç–µ —Å–≤–æ—é —Ü–µ–ª—å –≤ –ø–æ–ª—è—Ö –≤—ã—à–µ, –∏ —è –ø–æ–º–æ–≥—É –µ—ë —É–ª—É—á—à–∏—Ç—å!";
            } else {
                message += "–ù–∞ –æ—Å–Ω–æ–≤–µ –≤–∞—à–µ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è —è —Ä–µ–∫–æ–º–µ–Ω–¥—É—é:\n\n";
                
                if (goalTitle) {
                    message += `1. –¶–µ–ª—å "${goalTitle}" –∑–≤—É—á–∏—Ç —Ö–æ—Ä–æ—à–æ!\n`;
                }
                
                if (goalDescription) {
                    message += `2. –û–ø–∏—Å–∞–Ω–∏–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ–µ.\n`;
                } else {
                    message += `2. –î–æ–±–∞–≤—å—Ç–µ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ü–µ–ª–∏.\n`;
                }
                
                message += `\n–°–æ–≤–µ—Ç—ã:\n‚Ä¢ –†–∞–∑–±–µ–π—Ç–µ —Ü–µ–ª—å –Ω–∞ 3-5 –ø–æ–¥–∑–∞–¥–∞—á\n‚Ä¢ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –¥–µ–¥–ª–∞–π–Ω—ã\n‚Ä¢ –û—Ç–º–µ—á–∞–π—Ç–µ –ø—Ä–æ–≥—Ä–µ—Å—Å –∫–∞–∂–¥—É—é –Ω–µ–¥–µ–ª—é\n‚Ä¢ –ù–∞–π–¥–∏—Ç–µ –Ω–∞–ø–∞—Ä–Ω–∏–∫–∞ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏`;
            }
            
            alert(message);
        }
        
        // –í—ã–ø–∞–¥–∞—é—â–µ–µ –º–µ–Ω—é –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
        function toggleCreateCategoryDropdown() {
            const dropdown = document.getElementById('createCategoryDropdown');
            const assignDropdown = document.getElementById('assignCategoryDropdown');
            const categoriesDropdown = document.getElementById('categoriesDropdown');
            const deleteDropdown = document.getElementById('deleteCategoryDropdown');
            
            dropdown.classList.toggle('show');
            assignDropdown.classList.remove('show');
            categoriesDropdown.classList.remove('show');
            deleteDropdown.classList.remove('show');
            
            // –û—á–∏—â–∞–µ–º –ø–æ–ª–µ –≤–≤–æ–¥–∞ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏
            if (dropdown.classList.contains('show')) {
                document.getElementById('newCategoryName').value = '';
                updateGoalsToAssignList();
            }
        }
        
        function closeCreateCategoryDropdown() {
            document.getElementById('createCategoryDropdown').classList.remove('show');
        }
        
        // –í—ã–ø–∞–¥–∞—é—â–µ–µ –º–µ–Ω—é –¥–ª—è –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π
        function toggleAssignCategoryDropdown() {
            const dropdown = document.getElementById('assignCategoryDropdown');
            const createDropdown = document.getElementById('createCategoryDropdown');
            const categoriesDropdown = document.getElementById('categoriesDropdown');
            const deleteDropdown = document.getElementById('deleteCategoryDropdown');
            
            dropdown.classList.toggle('show');
            createDropdown.classList.remove('show');
            categoriesDropdown.classList.remove('show');
            deleteDropdown.classList.remove('show');
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–∫–∏ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏
            if (dropdown.classList.contains('show')) {
                updateCategorySelect();
                updateAssignCategoryGoalsList();
            }
        }
        
        // –í—ã–ø–∞–¥–∞—é—â–µ–µ –º–µ–Ω—é –∫–∞—Ç–µ–≥–æ—Ä–∏–π
        function toggleCategoriesDropdown() {
            const dropdown = document.getElementById('categoriesDropdown');
            const createDropdown = document.getElementById('createCategoryDropdown');
            const assignDropdown = document.getElementById('assignCategoryDropdown');
            const deleteDropdown = document.getElementById('deleteCategoryDropdown');
            
            dropdown.classList.toggle('show');
            createDropdown.classList.remove('show');
            assignDropdown.classList.remove('show');
            deleteDropdown.classList.remove('show');
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏
            if (dropdown.classList.contains('show')) {
                updateCategoriesList();
            }
        }
        
        // –í—ã–ø–∞–¥–∞—é—â–µ–µ –º–µ–Ω—é —É–¥–∞–ª–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π
        function toggleDeleteCategoryDropdown() {
            const dropdown = document.getElementById('deleteCategoryDropdown');
            const createDropdown = document.getElementById('createCategoryDropdown');
            const assignDropdown = document.getElementById('assignCategoryDropdown');
            const categoriesDropdown = document.getElementById('categoriesDropdown');
            
            dropdown.classList.toggle('show');
            createDropdown.classList.remove('show');
            assignDropdown.classList.remove('show');
            categoriesDropdown.classList.remove('show');
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏
            if (dropdown.classList.contains('show')) {
                updateDeleteCategoriesList();
            }
        }
        
        // –ó–∞–∫—Ä—ã—Ç–∏–µ –≤—ã–ø–∞–¥–∞—é—â–∏—Ö –º–µ–Ω—é –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –∏—Ö
        document.addEventListener('click', function(event) {
            const createDropdown = document.getElementById('createCategoryDropdown');
            const assignDropdown = document.getElementById('assignCategoryDropdown');
            const categoriesDropdown = document.getElementById('categoriesDropdown');
            const deleteDropdown = document.getElementById('deleteCategoryDropdown');
            const createBtn = document.querySelector('.create-category-dropdown .category-btn');
            const assignBtn = document.querySelector('.assign-category-dropdown .category-btn');
            const categoriesBtn = document.querySelector('.categories-dropdown .category-btn');
            const deleteBtn = document.querySelector('.delete-category-dropdown .category-btn');
            
            if (!createDropdown.contains(event.target) && event.target !== createBtn) {
                createDropdown.classList.remove('show');
            }
            
            if (!assignDropdown.contains(event.target) && event.target !== assignBtn) {
                assignDropdown.classList.remove('show');
            }
            
            if (!categoriesDropdown.contains(event.target) && event.target !== categoriesBtn) {
                categoriesDropdown.classList.remove('show');
            }
            
            if (!deleteDropdown.contains(event.target) && event.target !== deleteBtn) {
                deleteDropdown.classList.remove('show');
            }
        });
        
        // –ú–∞—Å—Å–∏–≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
        let categories = [
            { id: 1, name: "–£—á–µ–±–∞", selected: true },
            { id: 2, name: "–†–∞–±–æ—Ç–∞", selected: true },
            { id: 3, name: "–õ–∏—á–Ω–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ", selected: true },
            { id: 4, name: "–°–ø–æ—Ä—Ç", selected: true },
            { id: 5, name: "–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è", selected: true },
            { id: 6, name: "–î—Ä—É–≥–æ–µ", selected: true }
        ];
        
        // –ú–∞—Å—Å–∏–≤ —Ü–µ–ª–µ–π
        let goals = [
            { 
                id: 1, 
                title: "–ü–æ—Å—Ç—É–ø–∏—Ç—å –Ω–∞ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–π", 
                description: "–Ø –∫–∞–∫ –°–æ–ª –ì—É–¥–º–∞–Ω –±—É–¥—É :)", 
                deadline: "15.11.2025",
                importance: 8,
                progress: 69,
                completed: false,
                categoryId: 1
            },
            { 
                id: 2, 
                title: "–£–±–∏—Ç—å –¥—Ä–∞–∫–æ–Ω–∞ –≤ –º–∞–π–Ω–∫—Ä–∞—Ñ—Ç–µ –Ω–∞ —Ö–∞—Ä–¥–∫–æ—Ä–µ", 
                description: "–î–æ–±—É–¥—å —Ö–æ—Ç—è –±—ã 2 –∞–ª–º–∞–∑–∞ –∫ —Å–ª–µ–¥—É—é—â–µ–π –Ω–µ–¥–µ–ª–µ, —á–µ–ª...", 
                deadline: "20.11.2025",
                importance: 5,
                progress: 23,
                completed: false,
                categoryId: 5
            },
            { 
                id: 3, 
                title: "–ö—É–ø–∏—Ç—å —à–∞–≤–µ—Ä–º—É –Ω–∞ —Ä—ã–Ω–∫–µ", 
                description: "–ù–µ –ø–æ–±–æ—è—Ç—Å—è –∏ —Ä–∏—Å–∫–Ω—É—Ç—å, –≤–æ—Ç —Ç–∞–∫ –∏ —Ä–æ–∂–¥–∞—é—Ç—Å—è –º–∏–ª–ª–∏–æ–Ω–µ—Ä—ã", 
                deadline: "01.12.2025",
                importance: 3,
                progress: 96,
                completed: false,
                categoryId: 6
            }
        ];
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
        function updateCategoriesList() {
            const categoriesList = document.getElementById('categoriesList');
            categoriesList.innerHTML = '';
            
            if (categories.length === 0) {
                categoriesList.innerHTML = '<div class="no-categories">–ù–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–π</div>';
                return;
            }
            
            categories.forEach(category => {
                const categoryElement = document.createElement('div');
                categoryElement.className = 'dropdown-item';
                categoryElement.innerHTML = `
                    <input type="checkbox" id="cat-${category.id}" ${category.selected ? 'checked' : ''}>
                    <label for="cat-${category.id}">${category.name}</label>
                `;
                
                // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è —á–µ–∫–±–æ–∫—Å–∞
                const checkbox = categoryElement.querySelector('input');
                checkbox.addEventListener('change', function() {
                    category.selected = this.checked;
                    filterGoalsByCategory();
                });
                
                categoriesList.appendChild(categoryElement);
            });
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è
        function updateDeleteCategoriesList() {
            const deleteList = document.getElementById('deleteCategoriesList');
            deleteList.innerHTML = '';
            
            if (categories.length === 0) {
                deleteList.innerHTML = '<div class="no-categories">–ù–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–π –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è</div>';
                return;
            }
            
            categories.forEach(category => {
                const categoryElement = document.createElement('div');
                categoryElement.className = 'dropdown-item';
                categoryElement.innerHTML = `
                    <input type="checkbox" id="del-cat-${category.id}">
                    <label for="del-cat-${category.id}">${category.name}</label>
                `;
                
                deleteList.appendChild(categoryElement);
            });
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Ü–µ–ª–µ–π –¥–ª—è –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
        function updateGoalsToAssignList() {
            const goalsList = document.getElementById('goalsToAssignList');
            const assignSection = document.getElementById('assignGoalsSection');
            
            if (goals.length === 0) {
                goalsList.innerHTML = '<div class="no-goals-message">–ù–µ—Ç —Ü–µ–ª–µ–π –¥–ª—è –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</div>';
                assignSection.style.display = 'none';
                return;
            }
            
            assignSection.style.display = 'block';
            goalsList.innerHTML = '';
            
            goals.forEach(goal => {
                const goalElement = document.createElement('div');
                goalElement.className = 'goal-to-assign';
                goalElement.innerHTML = `
                    <input type="checkbox" id="assign-goal-${goal.id}">
                    <label for="assign-goal-${goal.id}">${goal.title}</label>
                `;
                
                goalsList.appendChild(goalElement);
            });
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ —Å–ø–∏—Å–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
        function updateCategorySelect() {
            const categorySelect = document.getElementById('categorySelect');
            categorySelect.innerHTML = '<option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é</option>';
            
            categories.forEach(category => {
                const option = document.createElement('option');
                option.value = category.id;
                option.textContent = category.name;
                categorySelect.appendChild(option);
            });
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Ü–µ–ª–µ–π –¥–ª—è –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
        function updateAssignCategoryGoalsList() {
            const goalsList = document.getElementById('assignCategoryGoalsList');
            
            if (goals.length === 0) {
                goalsList.innerHTML = '<div class="no-goals-message">–ù–µ—Ç —Ü–µ–ª–µ–π –¥–ª—è –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</div>';
                return;
            }
            
            goalsList.innerHTML = '';
            
            goals.forEach(goal => {
                const category = categories.find(cat => cat.id === goal.categoryId);
                const categoryName = category ? category.name : "–ë–µ–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏";
                
                const goalElement = document.createElement('div');
                goalElement.className = 'goal-to-assign';
                goalElement.innerHTML = `
                    <input type="checkbox" id="assign-cat-goal-${goal.id}">
                    <label for="assign-cat-goal-${goal.id}">
                        ${goal.title} 
                        <small style="color: #666; margin-left: 0.5rem;">(${categoryName})</small>
                    </label>
                `;
                
                goalsList.appendChild(goalElement);
            });
        }
        
        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
        function addNewCategory() {
            const categoryNameInput = document.getElementById('newCategoryName');
            const categoryName = categoryNameInput.value.trim();
            
            if (!categoryName) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏');
                return;
            }
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ—Ç –ª–∏ —É–∂–µ —Ç–∞–∫–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
            for (let i = 0; i < categories.length; i++) {
                if (categories[i].name === categoryName) {
                    alert('–ö–∞—Ç–µ–≥–æ—Ä–∏—è —Å —Ç–∞–∫–∏–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç!');
                    return;
                }
            }
            
            // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é
            const newCategory = {
                id: Date.now(),
                name: categoryName,
                selected: true
            };
            
            categories.push(newCategory);
            
            // –ù–∞–∑–Ω–∞—á–∞–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏—é –≤—ã–±—Ä–∞–Ω–Ω—ã–º —Ü–µ–ª—è–º
            const checkboxes = document.querySelectorAll('#goalsToAssignList .goal-to-assign input[type="checkbox"]:checked');
            const selectedGoalIds = [];
            
            checkboxes.forEach(checkbox => {
                const goalId = parseInt(checkbox.id.replace('assign-goal-', ''));
                selectedGoalIds.push(goalId);
            });
            
            if (selectedGoalIds.length > 0) {
                goals.forEach(goal => {
                    if (selectedGoalIds.includes(goal.id)) {
                        goal.categoryId = newCategory.id;
                    }
                });
                
                renderGoals(); // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ü–µ–ª–µ–π
            }
            
            // –û—á–∏—â–∞–µ–º –ø–æ–ª–µ –≤–≤–æ–¥–∞ –∏ –∑–∞–∫—Ä—ã–≤–∞–µ–º –º–µ–Ω—é
            categoryNameInput.value = '';
            closeCreateCategoryDropdown();
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –≤—Å–µ —Å–ø–∏—Å–∫–∏
            updateCategoriesList();
            updateDeleteCategoriesList();
            updateCategorySelect();
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
            const message = selectedGoalIds.length > 0 
                ? `–ö–∞—Ç–µ–≥–æ—Ä–∏—è "${categoryName}" —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞ –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∞ ${selectedGoalIds.length} —Ü–µ–ª—è–º!`
                : `–ö–∞—Ç–µ–≥–æ—Ä–∏—è "${categoryName}" —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞!`;
            alert(message);
        }
        
        // –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –≤—ã–±—Ä–∞–Ω–Ω—ã–º —Ü–µ–ª—è–º
        function assignCategoryToGoals() {
            const categorySelect = document.getElementById('categorySelect');
            const selectedCategoryId = parseInt(categorySelect.value);
            
            if (!selectedCategoryId) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é');
                return;
            }
            
            const checkboxes = document.querySelectorAll('#assignCategoryGoalsList .goal-to-assign input[type="checkbox"]:checked');
            const selectedGoalIds = [];
            
            checkboxes.forEach(checkbox => {
                const goalId = parseInt(checkbox.id.replace('assign-cat-goal-', ''));
                selectedGoalIds.push(goalId);
            });
            
            if (selectedGoalIds.length === 0) {
                alert('–í—ã–±–µ—Ä–∏—Ç–µ —Ü–µ–ª–∏ –¥–ª—è –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏');
                return;
            }
            
            const selectedCategory = categories.find(cat => cat.id === selectedCategoryId);
            
            // –ù–∞–∑–Ω–∞—á–∞–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏—é –≤—ã–±—Ä–∞–Ω–Ω—ã–º —Ü–µ–ª—è–º
            goals.forEach(goal => {
                if (selectedGoalIds.includes(goal.id)) {
                    goal.categoryId = selectedCategoryId;
                }
            });
            
            // –ó–∞–∫—Ä—ã–≤–∞–µ–º –º–µ–Ω—é
            document.getElementById('assignCategoryDropdown').classList.remove('show');
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ü–µ–ª–µ–π
            renderGoals();
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
            alert(`–ö–∞—Ç–µ–≥–æ—Ä–∏—è "${selectedCategory.name}" –Ω–∞–∑–Ω–∞—á–µ–Ω–∞ ${selectedGoalIds.length} —Ü–µ–ª—è–º!`);
        }
        
        // –£–¥–∞–ª–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
        function deleteSelectedCategories() {
            const checkboxes = document.querySelectorAll('#deleteCategoriesList .dropdown-item input[type="checkbox"]:checked');
            const categoriesToDelete = [];
            const indicesToDelete = [];
            const categoryIdsToDelete = [];
            
            checkboxes.forEach(checkbox => {
                const id = parseInt(checkbox.id.replace('del-cat-', ''));
                const index = categories.findIndex(cat => cat.id === id);
                if (index !== -1) {
                    categoriesToDelete.push(categories[index].name);
                    indicesToDelete.push(index);
                    categoryIdsToDelete.push(id);
                }
            });
            
            if (categoriesToDelete.length === 0) {
                alert('–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è');
                return;
            }
            
            if (confirm(`–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏?\n\n${categoriesToDelete.join('\n')}\n\n–¶–µ–ª–∏ —Å —ç—Ç–∏–º–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ –±—É–¥—É—Ç –ø–µ—Ä–µ–≤–µ–¥–µ–Ω—ã –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏—é "–î—Ä—É–≥–æ–µ".`)) {
                // –ù–∞—Ö–æ–¥–∏–º –∏–ª–∏ —Å–æ–∑–¥–∞–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏—é "–î—Ä—É–≥–æ–µ"
                let otherCategory = categories.find(cat => cat.name === "–î—Ä—É–≥–æ–µ");
                if (!otherCategory) {
                    otherCategory = { id: Date.now(), name: "–î—Ä—É–≥–æ–µ", selected: true };
                    categories.push(otherCategory);
                }
                
                // –ü–µ—Ä–µ–≤–æ–¥–∏–º —Ü–µ–ª–∏ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏—é "–î—Ä—É–≥–æ–µ"
                goals.forEach(goal => {
                    if (categoryIdsToDelete.includes(goal.categoryId)) {
                        goal.categoryId = otherCategory.id;
                    }
                });
                
                // –£–¥–∞–ª—è–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –≤ –æ–±—Ä–∞—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ, —á—Ç–æ–±—ã –∏–Ω–¥–µ–∫—Å—ã –Ω–µ —Å–±–∏–≤–∞–ª–∏—Å—å
                indicesToDelete.sort((a, b) => b - a);
                indicesToDelete.forEach(index => {
                    categories.splice(index, 1);
                });
                
                // –ó–∞–∫—Ä—ã–≤–∞–µ–º –º–µ–Ω—é —É–¥–∞–ª–µ–Ω–∏—è
                document.getElementById('deleteCategoryDropdown').classList.remove('show');
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –≤—Å–µ —Å–ø–∏—Å–∫–∏
                updateCategoriesList();
                updateDeleteCategoriesList();
                updateCategorySelect();
                renderGoals();
                
                alert('–í—ã–±—Ä–∞–Ω–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —É–¥–∞–ª–µ–Ω—ã! –¶–µ–ª–∏ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω—ã –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏—é "–î—Ä—É–≥–æ–µ".');
            }
        }
        
        // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ü–µ–ª–µ–π –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
        function filterGoalsByCategory() {
            const selectedCategories = categories.filter(cat => cat.selected).map(cat => cat.id);
            const allGoalsBtn = document.getElementById('allGoalsBtn');
            
            if (selectedCategories.length === categories.length) {
                allGoalsBtn.classList.add('active');
                renderGoals(); // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Å–µ —Ü–µ–ª–∏
            } else {
                allGoalsBtn.classList.remove('active');
                // –§–∏–ª—å—Ç—Ä—É–µ–º —Ü–µ–ª–∏
                const filteredGoals = goals.filter(goal => selectedCategories.includes(goal.categoryId));
                renderGoals(filteredGoals);
            }
        }
        
        // –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Ü–µ–ª–∏ (–ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∏–∫–æ–Ω–∫—É)
        function assignCategoryToSingleGoal(goalId) {
            // –ù–∞—Ö–æ–¥–∏–º —Ü–µ–ª—å
            const goal = goals.find(g => g.id === goalId);
            if (!goal) return;
            
            // –°–æ–∑–¥–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –≤—ã–±–æ—Ä–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
            let categoryOptions = '';
            categories.forEach(category => {
                const isSelected = category.id === goal.categoryId;
                categoryOptions += `<option value="${category.id}" ${isSelected ? 'selected' : ''}>${category.name}</option>`;
            });
            
            const modalHtml = `
                <div style="padding: 1rem;">
                    <h3 style="margin-top: 0;">–ù–∞–∑–Ω–∞—á–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é —Ü–µ–ª–∏</h3>
                    <p><strong>${goal.title}</strong></p>
                    <select id="singleGoalCategorySelect" style="width: 100%; padding: 0.5rem; margin: 1rem 0; border: 1px solid #ddd; border-radius: 5px;">
                        ${categoryOptions}
                    </select>
                    <div style="display: flex; gap: 0.5rem; margin-top: 1rem;">
                        <button onclick="closeSingleGoalModal()" style="flex: 1; padding: 0.5rem; background: #f0f0f0; border: none; border-radius: 5px; cursor: pointer;">–û—Ç–º–µ–Ω–∞</button>
                        <button onclick="applyCategoryToSingleGoal(${goalId})" style="flex: 1; padding: 0.5rem; background: #4CAF50; color: white; border: none; border-radius: 5px; cursor: pointer;">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
                    </div>
                </div>
            `;
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
            const modal = document.createElement('div');
            modal.id = 'singleGoalModal';
            modal.style.position = 'fixed';
            modal.style.top = '0';
            modal.style.left = '0';
            modal.style.width = '100%';
            modal.style.height = '100%';
            modal.style.backgroundColor = 'rgba(0,0,0,0.5)';
            modal.style.display = 'flex';
            modal.style.justifyContent = 'center';
            modal.style.alignItems = 'center';
            modal.style.zIndex = '1000';
            
            const modalContent = document.createElement('div');
            modalContent.style.backgroundColor = 'white';
            modalContent.style.borderRadius = '10px';
            modalContent.style.maxWidth = '400px';
            modalContent.style.width = '90%';
            modalContent.innerHTML = modalHtml;
            
            modal.appendChild(modalContent);
            document.body.appendChild(modal);
        }
        
        function applyCategoryToSingleGoal(goalId) {
            const select = document.getElementById('singleGoalCategorySelect');
            const categoryId = parseInt(select.value);
            
            const goal = goals.find(g => g.id === goalId);
            if (goal && categoryId) {
                goal.categoryId = categoryId;
                renderGoals();
                closeSingleGoalModal();
                alert('–ö–∞—Ç–µ–≥–æ—Ä–∏—è –Ω–∞–∑–Ω–∞—á–µ–Ω–∞ —Ü–µ–ª–∏!');
            }
        }
        
        function closeSingleGoalModal() {
            const modal = document.getElementById('singleGoalModal');
            if (modal) {
                modal.remove();
            }
        }
        
        // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ —Ü–µ–ª–µ–π
        function renderGoals(goalsToRender = goals) {
            const goalsListContainer = document.getElementById('goalsListContainer');
            goalsListContainer.innerHTML = '';
            
            if (goalsToRender.length === 0) {
                goalsListContainer.innerHTML = '<div style="text-align: center; padding: 2rem; color: #666;">–¶–µ–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</div>';
                return;
            }
            
            goalsToRender.forEach(goal => {
                const category = categories.find(cat => cat.id === goal.categoryId);
                const categoryName = category ? category.name : "–ë–µ–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏";
                const categoryColor = category ? getCategoryColor(category.id) : "#999";
                
                const goalElement = document.createElement('div');
                goalElement.className = 'goal-item';
                goalElement.innerHTML = `
                    <div class="goal-header">
                        <div>
                            <h3>${goal.title}</h3>
                            <span class="goal-category" onclick="assignCategoryToSingleGoal(${goal.id})" style="background-color: ${categoryColor}20; color: ${categoryColor};">
                                ${categoryName}
                                <i class="fas fa-pencil-alt" style="margin-left: 0.3rem; font-size: 0.7rem;"></i>
                            </span>
                        </div>
                        <div class="goal-actions">
                            <button class="assign-category-icon" onclick="assignCategoryToSingleGoal(${goal.id})" title="–ù–∞–∑–Ω–∞—á–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é">
                                <i class="fas fa-tag"></i>
                            </button>
                            <div class="goal-deadline">
                                <span>${goal.deadline}</span>
                                <input type="checkbox" ${goal.completed ? 'checked' : ''}>
                            </div>
                        </div>
                    </div>
                    <p>${goal.description}</p>
                    <div class="progress-bar-container">
                        <div class="progress-bar" style="width: ${goal.progress}%;"></div>
                    </div>
                `;
                
                // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è —á–µ–∫–±–æ–∫—Å–∞
                const checkbox = goalElement.querySelector('input[type="checkbox"]');
                checkbox.addEventListener('change', function() {
                    goal.completed = this.checked;
                    goalElement.style.opacity = goal.completed ? '0.6' : '1';
                    goalElement.querySelector('.progress-bar').style.width = goal.completed ? '100%' : `${goal.progress}%`;
                });
                
                goalsListContainer.appendChild(goalElement);
            });
        }
        
        // –ü–æ–ª—É—á–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞ –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
        function getCategoryColor(categoryId) {
            const colors = [
                "#2196F3", // –£—á–µ–±–∞ - —Å–∏–Ω–∏–π
                "#4CAF50", // –†–∞–±–æ—Ç–∞ - –∑–µ–ª–µ–Ω—ã–π
                "#9C27B0", // –õ–∏—á–Ω–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ - —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π
                "#FF9800", // –°–ø–æ—Ä—Ç - –æ—Ä–∞–Ω–∂–µ–≤—ã–π
                "#F44336", // –†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è - –∫—Ä–∞—Å–Ω—ã–π
                "#607D8B"  // –î—Ä—É–≥–æ–µ - —Å–µ—Ä—ã–π
            ];
            
            const categoryIndex = categories.findIndex(cat => cat.id === categoryId);
            return colors[categoryIndex % colors.length] || "#607D8B";
        }
        
        // –§—É–Ω–∫—Ü–∏—è –æ—á–∏—Å—Ç–∫–∏ —Ñ–æ—Ä–º—ã
        function clearForm() {
            document.getElementById('goalTitle').value = '';
            document.getElementById('goalDescription').value = '';
            document.getElementById('goalDeadline').value = '';
            document.getElementById('importanceSlider').value = '5';
            importanceValue.textContent = '5';
        }
        
        // –§—É–Ω–∫—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ü–µ–ª–∏
        function saveGoal() {
            const title = document.getElementById('goalTitle').value.trim();
            const description = document.getElementById('goalDescription').value.trim();
            const deadline = document.getElementById('goalDeadline').value;
            const importance = document.getElementById('importanceSlider').value;
            
            if (!title) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ü–µ–ª–∏');
                return;
            }
            
            // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç—ã
            let deadlineText = '–ë–µ–∑ —Å—Ä–æ–∫–∞';
            if (deadline) {
                const deadlineDate = new Date(deadline);
                deadlineText = deadlineDate.toLocaleDateString('ru-RU');
            }
            
            // –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ —Ü–µ–ª–∏
            const newGoal = {
                id: Date.now(),
                title: title,
                description: description || '–ë–µ–∑ –æ–ø–∏—Å–∞–Ω–∏—è',
                importance: parseInt(importance),
                deadline: deadlineText,
                progress: 0,
                completed: false,
                categoryId: 6 // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∫–∞—Ç–µ–≥–æ—Ä–∏—è "–î—Ä—É–≥–æ–µ"
            };
            
            // –î–æ–±–∞–≤–ª—è–µ–º —Ü–µ–ª—å –≤ –º–∞—Å—Å–∏–≤
            goals.unshift(newGoal); // –î–æ–±–∞–≤–ª—è–µ–º –≤ –Ω–∞—á–∞–ª–æ
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –≤—Å–µ —Å–ø–∏—Å–∫–∏
            updateGoalsToAssignList();
            updateAssignCategoryGoalsList();
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            renderGoals();
            
            // –ü–æ–∫–∞–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
            alert('‚úÖ –¶–µ–ª—å —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞!\n\n–ù–∞–∑–≤–∞–Ω–∏–µ: ' + title + '\n–í–∞–∂–Ω–æ—Å—Ç—å: ' + importance + '/10');
            
            // –û—á–∏—â–∞–µ–º —Ñ–æ—Ä–º—É –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
            clearForm();
        }
        
        // –ö–Ω–æ–ø–∫–∞ "–í—Å–µ —Ü–µ–ª–∏"
        document.getElementById('allGoalsBtn').addEventListener('click', function() {
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –≤—Å–µ —á–µ–∫–±–æ–∫—Å—ã –∫–∞—Ç–µ–≥–æ—Ä–∏–π
            categories.forEach(cat => cat.selected = true);
            updateCategoriesList();
            this.classList.add('active');
            renderGoals();
        });
        
        // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–º–æ–π
        const themeButtons = document.querySelectorAll('[data-set-theme]');
        const storageKey = 'studyflow-theme';
        
        const applyTheme = (theme) => {
            document.body.setAttribute('data-theme', theme === 'default' ? '' : theme);
        };
        
        themeButtons.forEach(button => {
            button.addEventListener('click', () => {
                const theme = button.dataset.setTheme;
                applyTheme(theme);
                localStorage.setItem(storageKey, theme);
            });
        });
        
        // –ú–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', () => {
            const savedTheme = localStorage.getItem(storageKey);
            if (savedTheme) applyTheme(savedTheme);
            
            const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
            const sidebar = document.querySelector('.sidebar');
            if (mobileMenuBtn && sidebar) {
                mobileMenuBtn.addEventListener('click', () => sidebar.classList.toggle('active'));
                document.addEventListener('click', (e) => {
                    if (!sidebar.contains(e.target) && !mobileMenuBtn.contains(e.target)) {
                        sidebar.classList.remove('active');
                    }
                });
            }
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–µ—Ä–≤–æ–≥–æ —Å–æ–≤–µ—Ç–∞
            updateTip();
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö —Å–ø–∏—Å–∫–æ–≤
            updateCategoriesList();
            updateDeleteCategoriesList();
            updateCategorySelect();
            updateGoalsToAssignList();
            updateAssignCategoryGoalsList();
            
            renderGoals();//?
        });
    </script>
</body>
</html>

